<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The London Museum</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Header Section -->
    <header id="header">
        <div class="header-container">
            <!-- Left: Logo -->
            <div class="logo">
                <a href="index.html">
                    <img src="images/logo.png" alt="The London Museum">
                </a>
            </div>
            
            <!-- Center: Search Bar -->
            <div class="search-container">
                <input type="text" placeholder="Search artists, artworks...">
                <button>Search</button>
            </div>
                        
            <!-- Right: Navigation Menu -->
            <nav class="main-nav">
                <!-- Collections Dropdown -->
                <div class="dropdown">
                    <span class="dropdown-title">Collections</span>
                    <div class="dropdown-content">
                        <a href="artists.html">Browse all Artists</a>
                        <a href="artworks.html">Browse all Artworks</a>
                        <a href="search-collection.html">Search Collection</a>
                    </div>
                </div>
            
                <!-- Exhibitions Dropdown -->
                <div class="dropdown">
                    <span class="dropdown-title">Exhibitions & Events</span>
                    <div class="dropdown-content">
                        <a href="exhibitions.html">Current Exhibitions</a>
                        <a href="events.html">Events Calendar</a>
                        <a href="upcoming-exhibitions.html">Upcoming Exhibitions</a>
                    </div>
                </div>
            
                <!-- Shop Dropdown -->
                <div class="dropdown">
                    <span class="dropdown-title">Shop</span>
                    <div class="dropdown-content">
                        <a href="shop.html">Exhibition Merchandise</a>
                        <a href="gifts.html">Gifts & Souvenirs</a>
                        <a href="prints.html">Prints & Posters</a>
                    </div>
                </div>
            
                <!-- Visit Dropdown -->
                <div class="dropdown">
                    <span class="dropdown-title">Visit</span>
                    <div class="dropdown-content">
                        <a href="book-visit.html">Book your Visit</a>
                        <a href="cafe.html">Café & Facilities</a>
                        <a href="directions.html">Getting Here & Map</a>
                    </div>
                </div>
            </nav>
        </div>
    </header>
    
    <!-- Section 1: About Museum -->
    <section id="about-museum">
        <div class="about-container">
            <!-- Left: Text Content -->
            <div class="about-text">
                <h2>The London Museum</h2>
                <h3>Where Art Meets Perspective</h3>
                <p>Founded in the heart of London, our museum is dedicated to showcasing extraordinary talent and innovative artistic visions. We believe in making art accessible to all while celebrating the diverse voices that shape our cultural landscape.</p>
                <p>Through carefully curated exhibitions and rotating collections, we present works that challenge perspectives and inspire new ways of seeing. Each display is thoughtfully designed to create meaningful connections with our visitors.</p>
                <p>At The London Museum, we don't just display art - we create conversations between artists, visitors, and the world around us.</p>
            </div>
            
            <!-- Right: Image Slideshow -->
            <div class="about-slideshow">
                <img src="images/museum1.png" alt="London Museum exterior" class="slideshow-image active">
                <img src="images/museum2.png" alt="Gallery space" class="slideshow-image">
                <img src="images/museum3.png" alt="Visitor experience" class="slideshow-image">
                <img src="images/museum4.png" alt="Art display" class="slideshow-image">
                
                <!-- Navigation Arrows -->
                <button class="slideshow-nav slideshow-prev" aria-label="Previous image">‹</button>
                <button class="slideshow-nav slideshow-next" aria-label="Next image">›</button>
                
                <!-- Dot Indicators -->
                <div class="slideshow-dots">
                    <button class="dot active" data-slide="0" aria-label="Show image 1"></button>
                    <button class="dot" data-slide="1" aria-label="Show image 2"></button>
                    <button class="dot" data-slide="2" aria-label="Show image 3"></button>
                    <button class="dot" data-slide="3" aria-label="Show image 4"></button>
                </div>
                
                <!-- Pause Button -->
                <button class="slideshow-pause" aria-label="Pause slideshow">
                    <svg class="pause-icon" width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                        <rect x="6" y="4" width="4" height="16"></rect>
                        <rect x="14" y="4" width="4" height="16"></rect>
                    </svg>
                    <svg class="play-icon" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="display: none;">
                        <polygon points="5,4 19,12 5,20"></polygon>
                    </svg>
                </button>
            </div>
        </div>
    </section>
        
    <!-- Section 2: Featured Artists -->
    <section id="featured-artists">
        [FEATURED ARTISTS WILL GO HERE]
    </section>
    
    <!-- Section 3: Artwork Preview -->
    <section id="artwork-preview">
        <div class="artwork-container">
            <h2 class="section-title">From the Collection</h2>
            
            <div class="artwork-carousel-wrapper">
                <button class="carousel-arrow carousel-prev" aria-label="Previous artwork">‹</button>
                
                <div class="artwork-carousel">
                    <!-- Artworks will be dynamically inserted here -->
                </div>
                
                <button class="carousel-arrow carousel-next" aria-label="Next artwork">›</button>
            </div>
            
            <div class="artwork-info">
                <h3 class="artwork-title"></h3>
                <a href="artworks.html" class="view-collection-btn">View in Collection</a>
            </div>
        </div>
    </section>
    
    <!-- Section 4: Hero Banner - Surrealism Exhibition -->
    <section id="hero">
        <div class="hero-container">
            <div class="hero-content">
                <!-- Left column: Empty for spacing -->
                <div class="hero-left-column"></div>
                
                <!-- Orb positioned at midpoint -->
                <div class="midpoint-orb">
                    <img src="images/artworks/memory-orb-1.png" alt="Memory Orb I" class="memory-orb-1">
                </div>
                
                <!-- Right: Exhibition Info -->
                <div class="hero-info">
                    <div class="exhibition-badge">Current Exhibition</div>
                    <div class="title-wrapper">
                        <h2 class="exhibition-title">Surrealism & Perspective</h2>
                        <h3 class="exhibition-subtitle">An Exhibition by Devdarsan Singh</h3>
                    </div>
                    <p class="exhibition-description">
                        Explore the boundaries of reality through interconnected works that challenge conventional perception and invite viewers into a world of imaginative possibility.
                    </p>
                    <div class="hero-actions">
                        <a href="exhibitions.html#surrealism" class="view-exhibition-btn">View Exhibition Details</a>
                        <a href="book-visit.html" class="secondary-btn">Book Your Visit</a>
                    </div>
                </div>
            </div>
        </div>
    </section>
    
    <!-- Footer Section -->
    <footer id="footer">
        [FOOTER WILL GO HERE]
    </footer>

    <script>
        // Museum Slideshow
        let currentSlide = 0;
        let slideInterval;
        const slides = document.querySelectorAll('.slideshow-image');
        const dots = document.querySelectorAll('.dot');
        const pauseButton = document.querySelector('.slideshow-pause');
        const pauseIcon = document.querySelector('.pause-icon');
        const playIcon = document.querySelector('.play-icon');
        const prevButton = document.querySelector('.slideshow-prev');
        const nextButton = document.querySelector('.slideshow-next');
        let isPlaying = true;

        function showSlide(n) {
            // Remove active class from current slide and mark it as leaving
            slides.forEach((slide, index) => {
                if (slide.classList.contains('active')) {
                    slide.classList.remove('active');
                    slide.classList.add('leaving');
                    setTimeout(() => {
                        slide.classList.remove('leaving');
                    }, 800);
                }
            });
            
            // Update dots
            dots.forEach(dot => dot.classList.remove('active'));
            dots[n].classList.add('active');
            
            // Add active class to new slide
            slides[n].classList.add('active');
            currentSlide = n;
        }

        function nextSlide() {
            let next = (currentSlide + 1) % slides.length;
            showSlide(next);
        }

        function prevSlide() {
            let prev = (currentSlide - 1 + slides.length) % slides.length;
            showSlide(prev);
        }

        function goToSlide(n) {
            showSlide(n);
            // Reset auto-advance timer when manually navigating
            if (isPlaying) {
                clearInterval(slideInterval);
                slideInterval = setInterval(nextSlide, 5000);
            }
        }

        function toggleSlideshow() {
            if (isPlaying) {
                clearInterval(slideInterval);
                pauseIcon.style.display = 'none';
                playIcon.style.display = 'block';
            } else {
                slideInterval = setInterval(nextSlide, 5000);
                pauseIcon.style.display = 'block';
                playIcon.style.display = 'none';
            }
            isPlaying = !isPlaying;
        }

        // Start the slideshow
        slideInterval = setInterval(nextSlide, 5000);

        // Event Listeners
        pauseButton.addEventListener('click', toggleSlideshow);
        nextButton.addEventListener('click', () => {
            nextSlide();
            if (isPlaying) {
                clearInterval(slideInterval);
                slideInterval = setInterval(nextSlide, 5000);
            }
        });
        prevButton.addEventListener('click', () => {
            prevSlide();
            if (isPlaying) {
                clearInterval(slideInterval);
                slideInterval = setInterval(nextSlide, 5000);
            }
        });

        // Dot navigation
        dots.forEach((dot, index) => {
            dot.addEventListener('click', () => goToSlide(index));
        });

        // Artwork Carousel - Array Rotation Concept
        const artworkImages = [
            { name: "images/artworks/a-cry-for-nature.png", title: "A Cry for Nature" },
            { name: "images/artworks/a-drop-of-faith.png", title: "A Drop of Faith" },
            { name: "images/artworks/bond-of-self.png", title: "Bond of Self" },
            { name: "images/artworks/eye.png", title: "The Eye" },
            { name: "images/artworks/graphite-tears.png", title: "Graphite Tears" },
            { name: "images/artworks/grey-and-white.png", title: "Grey and White" },
            { name: "images/artworks/hand-with-refracting-sphere.png", title: "Hand with Refracting Sphere" },
            { name: "images/artworks/rayograph.png", title: "Rayograph" },
            { name: "images/artworks/self-creation.png", title: "Self Creation" },
            { name: "images/artworks/tears-of-the-past.png", title: "Tears of the Past" },
            { name: "images/artworks/the-persistence-of-time.png", title: "The Persistence of Time" },
            { name: "images/artworks/the-rhinos.png", title: "The Rhinos" },
            { name: "images/artworks/the-treachery-of-objects-1.png", title: "The Treachery of Objects I" },
            { name: "images/artworks/the-treachery-of-objects-2.png", title: "The Treachery of Objects II" },
            { name: "images/artworks/the-treachery-of-objects-3.png", title: "The Treachery of Objects III" },
            { name: "images/artworks/the-treachery-of-objects-4.png", title: "The Treachery of Objects IV" }
        ];
        
        // Shuffle array function
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }
        
        // Initialize carousel with array rotation concept
        let artworkArray = shuffleArray([...artworkImages]);
        let artworkInterval;
        const carousel = document.querySelector('.artwork-carousel');
        const artworkTitle = document.querySelector('.artwork-title');
        const prevArrow = document.querySelector('.carousel-prev');
        const nextArrow = document.querySelector('.carousel-next');
        const ACTIVE_POSITION = 3; // 4th item (0-indexed)
        
        // Create carousel items
        function createCarouselItems() {
            carousel.innerHTML = '';
            
            // Clear any existing image load handlers
            carousel.dataset.imagesLoading = '0';
            
            artworkArray.forEach((artwork, index) => {
                const item = document.createElement('div');
                item.className = 'carousel-item';
                if (index === ACTIVE_POSITION) {
                    item.classList.add('active');
                }
                
                const img = document.createElement('img');
                img.src = artwork.name;
                img.alt = artwork.title;
                
                // Add loading attribute for better performance
                img.loading = 'eager';
                
                item.appendChild(img);
                carousel.appendChild(item);
            });
            
            // Update title for active artwork (4th item)
            artworkTitle.textContent = artworkArray[ACTIVE_POSITION].title;
            
            // Center the active item after images load
            centerActiveItem();
        }
        
        // Center the active item
        function centerActiveItem() {
            const items = document.querySelectorAll('.carousel-item');
            const activeItem = items[ACTIVE_POSITION];
            
            if (!activeItem) return;
            
            // Wait a moment for images to render
            setTimeout(() => {
                const carouselWidth = carousel.offsetWidth;
                const itemWidth = activeItem.offsetWidth;
                
                if (carouselWidth > 0 && itemWidth > 0) {
                    // Calculate the scroll position to center the active item
                    const scrollLeft = activeItem.offsetLeft - (carouselWidth / 2) + (itemWidth / 2);
                    carousel.scrollLeft = scrollLeft;
                }
            }, 50);
        }
        
        // Rotate array forward (move first to last)
        function rotateArrayForward() {
            // Remove first item and add it to the end
            const firstItem = artworkArray.shift();
            artworkArray.push(firstItem);
            
            // Re-render carousel
            createCarouselItems();
        }
        
        // Rotate array backward (move last to first)
        function rotateArrayBackward() {
            // Remove last item and add it to the beginning
            const lastItem = artworkArray.pop();
            artworkArray.unshift(lastItem);
            
            // Re-render carousel
            createCarouselItems();
        }
        
        // Start auto-advance
        function startArtworkInterval() {
            artworkInterval = setInterval(rotateArrayForward, 5000);
        }
        
        // Stop auto-advance (when user interacts)
        function stopArtworkInterval() {
            clearInterval(artworkInterval);
        }
        
        // Reset interval after user interaction
        function resetArtworkInterval() {
            stopArtworkInterval();
            startArtworkInterval();
        }
        
        // Initialize carousel on page load
        document.addEventListener('DOMContentLoaded', () => {
            createCarouselItems();
            startArtworkInterval();
            
            // Add event listeners for arrows
            prevArrow.addEventListener('click', () => {
                rotateArrayBackward();
                resetArtworkInterval();
            });
            
            nextArrow.addEventListener('click', () => {
                rotateArrayForward();
                resetArtworkInterval();
            });
            
            // Keyboard navigation
            document.addEventListener('keydown', (e) => {
                if (e.key === 'ArrowLeft') {
                    rotateArrayBackward();
                    resetArtworkInterval();
                } else if (e.key === 'ArrowRight') {
                    rotateArrayForward();
                    resetArtworkInterval();
                }
            });
            
            // Re-center on window resize
            window.addEventListener('resize', centerActiveItem);
            
            // Ensure images are loaded before centering
            const images = carousel.querySelectorAll('img');
            let imagesLoaded = 0;
            
            images.forEach(img => {
                if (img.complete) {
                    imagesLoaded++;
                } else {
                    img.addEventListener('load', () => {
                        imagesLoaded++;
                        if (imagesLoaded === images.length) {
                            centerActiveItem();
                        }
                    });
                }
            });
            
            // Fallback in case all images are already loaded
            if (imagesLoaded === images.length) {
                setTimeout(centerActiveItem, 100);
            }
        });

        // ===== ORB HEIGHT MATCHING =====
        function matchOrbToInfoBox() {
            const infoBox = document.querySelector('.hero-info');
            const orb = document.querySelector('.memory-orb-1');
            
            if (!infoBox || !orb) return;
            
            const infoHeight = infoBox.offsetHeight;
            
            // Image size = info height - borders
            const imageSize = infoHeight;
            
            // Apply size
            orb.style.width = `${imageSize}px`;
            orb.style.height = `${imageSize}px`;
        }
        
        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            matchOrbToInfoBox();
            window.addEventListener('resize', matchOrbToInfoBox);
        });
    </script>
</body>
</html>
